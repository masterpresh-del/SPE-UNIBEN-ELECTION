
{% extends 'base.html' %}
{% block content %}
<h2>Cast your Vote</h2>
{% for pos in positions %}
  <section style="margin-bottom:22px">
    <h3>{{ pos.name }}</h3><p>{{ pos.description }}</p>
    <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px">
      {% for c in pos.candidates.all %}
        <article style="border:1px solid #e7f0ff;padding:12px;border-radius:10px;text-align:center">
          {% if c.photo %}<img src="{{ c.photo.url }}" style="width:160px;height:160px;object-fit:cover;border-radius:8px"/>{% else %}<img src="/static/spe_logo.png" style="width:160px;height:160px;object-fit:cover;border-radius:8px"/>{% endif %}
          <h4>{{ c.name }}</h4>
          <p>{{ c.manifesto }}</p>
          <form method="post" action="/vote/cast/">{% csrf_token %}<input type="hidden" name="candidate_id" value="{{ c.id }}"/><button>Vote</button></form>
        </article>
      {% endfor %}
    </div>
  </section>
{% endfor %}
{% endblock %}
